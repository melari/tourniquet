// Generated by CoffeeScript 1.6.2
(function() {
  this.remote_call = function(url, callback, params) {
    var request;

    url = __APP_NAMESPACE + url;
    if (params != null) {
      url += generate_query_string(params);
    }
    request = new XMLHttpRequest;
    request.open("GET", url, true);
    request.onreadystatechange = function() {
      if (request.readyState === 4 && request.status === 200) {
        return callback(request.responseText);
      }
    };
    return request.send();
  };

  this.generate_query_string = function(params) {
    var key, result, value;

    result = "?";
    for (key in params) {
      value = params[key];
      if (params.hasOwnProperty(key)) {
        result += "" + (encodeURIComponent(key)) + "=" + (encodeURIComponent(value)) + "&";
      }
    }
    return result.slice(0, -1);
  };

  this.debounce_timers = {};

  this.debounce = function(id, callback) {
    if (debounce_timers[id] != null) {
      clearTimeout(debounce_timers[id]);
    }
    return debounce_timers[id] = setTimeout(callback, 500);
  };

  this.id = function(id) {
    return document.getElementById(id);
  };

  this.value_of = function(eid) {
    return id(eid).value;
  };

  this.set_html = function(eid, value) {
    return id(eid).innerHTML = value;
  };

  this.redirect = function(url, params) {
    url = __APP_NAMESPACE + url;
    if (params != null) {
      url += generate_query_string(params);
    }
    return window.location = url;
  };

}).call(this);
